using static Sokol.SG;
using static Sokol.SG.sg_backend;
using static Sokol.SG.sg_shader_stage;
using static Sokol.SG.sg_uniform_type;
using static Sokol.SG.sg_uniform_layout;
using static Sokol.SG.sg_image_type;
using static Sokol.SG.sg_sampler_type;
using static Sokol.SG.sg_image_sample_type;
using static Sokol.SG.sg_shader_attr_base_type;
using System.Numerics;
using System.Runtime.InteropServices;


using hmm_vec2=System.Numerics.Vector2;
using hmm_vec3=System.Numerics.Vector3;
using hmm_vec4=System.Numerics.Vector4;
using hmm_mat4=System.Numerics.Matrix4x4;


using vec2_t=System.Numerics.Vector2;
using vec3_t=System.Numerics.Vector3;
using vec4_t=System.Numerics.Vector4;
using mat44_t=System.Numerics.Matrix4x4;


namespace shadows_sapp_shader_cs {

public static unsafe class Shaders 
{
    /*
        #version:1# (machine generated, don't edit!)

        Generated by sokol-shdc (https://github.com/floooh/sokol-tools)

        Cmdline:
            sokol-shdc --input shaders/shadows-sapp.glsl --output shaders/compiled/osx/shadows-sapp-shader.cs --slang metal_macos -f sokol_csharp

        Overview:
        =========
        Shader program: 'dbg':
            Get shader desc: dbg_shader_desc(sg_query_backend());
            Vertex Shader: vs_dbg
            Fragment Shader: fs_dbg
            Attributes:
                ATTR_dbg_pos => 0
        Shader program: 'display':
            Get shader desc: display_shader_desc(sg_query_backend());
            Vertex Shader: vs_display
            Fragment Shader: fs_display
            Attributes:
                ATTR_display_pos => 0
                ATTR_display_norm => 1
        Shader program: 'shadow':
            Get shader desc: shadow_shader_desc(sg_query_backend());
            Vertex Shader: vs_shadow
            Fragment Shader: fs_shadow
            Attributes:
                ATTR_shadow_pos => 0
        Bindings:
            Uniform block 'vs_display_params':
                C struct: vs_display_params_t
                Bind slot: UB_vs_display_params => 0
            Uniform block 'fs_display_params':
                C struct: fs_display_params_t
                Bind slot: UB_fs_display_params => 1
            Uniform block 'vs_shadow_params':
                C struct: vs_shadow_params_t
                Bind slot: UB_vs_shadow_params => 0
            Texture 'dbg_tex':
                Image type: SG_IMAGETYPE_2D
                Sample type: SG_IMAGESAMPLETYPE_FLOAT
                Multisampled: false
                Bind slot: VIEW_dbg_tex => 0
            Texture 'shadow_map':
                Image type: SG_IMAGETYPE_2D
                Sample type: SG_IMAGESAMPLETYPE_FLOAT
                Multisampled: false
                Bind slot: VIEW_shadow_map => 0
            Sampler 'dbg_smp':
                Type: SG_SAMPLERTYPE_FILTERING
                Bind slot: SMP_dbg_smp => 0
            Sampler 'shadow_sampler':
                Type: SG_SAMPLERTYPE_FILTERING
                Bind slot: SMP_shadow_sampler => 0
    */
    public const int ATTR_dbg_pos = 0;
    public const int ATTR_display_pos = 0;
    public const int ATTR_display_norm = 1;
    public const int ATTR_shadow_pos = 0;
    public const int UB_vs_display_params = 0;
    public const int UB_fs_display_params = 1;
    public const int UB_vs_shadow_params = 0;
    public const int VIEW_dbg_tex = 0;
    public const int VIEW_shadow_map = 0;
    public const int SMP_dbg_smp = 0;
    public const int SMP_shadow_sampler = 0;
    
[StructLayout(LayoutKind.Sequential)]
    public struct vs_display_params_t {
        public vs_display_params_t(){}
        public hmm_mat4 mvp;
        public hmm_mat4 model;
        public hmm_mat4 light_mvp;
        public hmm_vec3 diff_color;
        fixed byte _pad_204[4];
    };
    
[StructLayout(LayoutKind.Sequential)]
    public struct fs_display_params_t {
        public fs_display_params_t(){}
        public hmm_vec3 light_dir;
        fixed byte _pad_12[4];
        public hmm_vec3 eye_pos;
        fixed byte _pad_28[4];
    };
    
[StructLayout(LayoutKind.Sequential)]
    public struct vs_shadow_params_t {
        public vs_shadow_params_t(){}
        public hmm_mat4 mvp;
    };
    /*
        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        struct vs_shadow_params
        {
            float4x4 mvp;
        };

        struct main0_out
        {
            float2 proj_zw [[user(locn0)]];
            float4 gl_Position [[position]];
        };

        struct main0_in
        {
            float4 pos [[attribute(0)]];
        };

        vertex main0_out main0(main0_in in [[stage_in]], constant vs_shadow_params& _19 [[buffer(0)]])
        {
            main0_out out = {};
            out.gl_Position = _19.mvp * in.pos;
            out.proj_zw = out.gl_Position.zw;
            return out;
        }

    */
    static readonly byte[] vs_shadow_source_metal_macos = {
            0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    
            0x73,    0x74,    0x64,    0x6c,    0x69,    0x62,    0x3e,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    
            0x20,    0x3c,    0x73,    0x69,    0x6d,    0x64,    0x2f,    0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    
            0x75,    0x73,    0x69,    0x6e,    0x67,    0x20,    0x6e,    0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    
            0x6d,    0x65,    0x74,    0x61,    0x6c,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x76,    
            0x73,    0x5f,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    0x5f,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x73,    0x0a,    
            0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x78,    0x34,    0x20,    0x6d,    
            0x76,    0x70,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    
            0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    
            0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    0x7a,    0x77,    0x20,    0x5b,    0x5b,    
            0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x67,    0x6c,    0x5f,    0x50,    0x6f,    0x73,    
            0x69,    0x74,    0x69,    0x6f,    0x6e,    0x20,    0x5b,    0x5b,    0x70,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    
            0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    
            0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x34,    0x20,    0x70,    0x6f,    0x73,    0x20,    0x5b,    0x5b,    0x61,    0x74,    0x74,    0x72,    0x69,    
            0x62,    0x75,    0x74,    0x65,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x76,    
            0x65,    0x72,    0x74,    0x65,    0x78,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    
            0x6d,    0x61,    0x69,    0x6e,    0x30,    0x28,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x20,    0x69,    
            0x6e,    0x20,    0x5b,    0x5b,    0x73,    0x74,    0x61,    0x67,    0x65,    0x5f,    0x69,    0x6e,    0x5d,    0x5d,    0x2c,    0x20,    
            0x63,    0x6f,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x74,    0x20,    0x76,    0x73,    0x5f,    0x73,    0x68,    0x61,    0x64,    
            0x6f,    0x77,    0x5f,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x73,    0x26,    0x20,    0x5f,    0x31,    0x39,    0x20,    0x5b,    
            0x5b,    0x62,    0x75,    0x66,    0x66,    0x65,    0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x29,    0x0a,    0x7b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6f,    0x75,    
            0x74,    0x20,    0x3d,    0x20,    0x7b,    0x7d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    
            0x67,    0x6c,    0x5f,    0x50,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    0x20,    0x3d,    0x20,    0x5f,    0x31,    
            0x39,    0x2e,    0x6d,    0x76,    0x70,    0x20,    0x2a,    0x20,    0x69,    0x6e,    0x2e,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    0x7a,    0x77,    0x20,    
            0x3d,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x67,    0x6c,    0x5f,    0x50,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    
            0x6e,    0x2e,    0x7a,    0x77,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    
            0x20,    0x6f,    0x75,    0x74,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x00,    
};
    /*
        #pragma clang diagnostic ignored "-Wmissing-prototypes"

        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        struct main0_out
        {
            float4 frag_color [[color(0)]];
        };

        struct main0_in
        {
            float2 proj_zw [[user(locn0)]];
        };

        static inline __attribute__((always_inline))
        float4 encode_depth(thread const float& v)
        {
            float4 _23 = fract(float4(1.0, 255.0, 65025.0, 16581375.0) * v);
            return _23 - (_23.yzww * float4(0.0039215688593685626983642578125, 0.0039215688593685626983642578125, 0.0039215688593685626983642578125, 0.0));
        }

        fragment main0_out main0(main0_in in [[stage_in]])
        {
            main0_out out = {};
            float param = in.proj_zw.x / in.proj_zw.y;
            out.frag_color = encode_depth(param);
            return out;
        }

    */
    static readonly byte[] fs_shadow_source_metal_macos = {
            0x23,    0x70,    0x72,    0x61,    0x67,    0x6d,    0x61,    0x20,    0x63,    0x6c,    0x61,    0x6e,    0x67,    0x20,    0x64,    0x69,    
            0x61,    0x67,    0x6e,    0x6f,    0x73,    0x74,    0x69,    0x63,    0x20,    0x69,    0x67,    0x6e,    0x6f,    0x72,    0x65,    0x64,    
            0x20,    0x22,    0x2d,    0x57,    0x6d,    0x69,    0x73,    0x73,    0x69,    0x6e,    0x67,    0x2d,    0x70,    0x72,    0x6f,    0x74,    
            0x6f,    0x74,    0x79,    0x70,    0x65,    0x73,    0x22,    0x0a,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    
            0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    0x73,    0x74,    0x64,    0x6c,    0x69,    0x62,    0x3e,    
            0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x73,    0x69,    0x6d,    0x64,    0x2f,    
            0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    0x75,    0x73,    0x69,    0x6e,    0x67,    0x20,    0x6e,    
            0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x3b,    0x0a,    
            0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    
            0x74,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x66,    
            0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x5b,    0x5b,    0x63,    0x6f,    0x6c,    0x6f,    
            0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    
            0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    0x7a,    0x77,    
            0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x30,    0x29,    0x5d,    0x5d,    
            0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x61,    0x74,    0x69,    0x63,    0x20,    0x69,    0x6e,    0x6c,    
            0x69,    0x6e,    0x65,    0x20,    0x5f,    0x5f,    0x61,    0x74,    0x74,    0x72,    0x69,    0x62,    0x75,    0x74,    0x65,    0x5f,    
            0x5f,    0x28,    0x28,    0x61,    0x6c,    0x77,    0x61,    0x79,    0x73,    0x5f,    0x69,    0x6e,    0x6c,    0x69,    0x6e,    0x65,    
            0x29,    0x29,    0x0a,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x65,    0x6e,    0x63,    0x6f,    0x64,    0x65,    
            0x5f,    0x64,    0x65,    0x70,    0x74,    0x68,    0x28,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x20,    0x63,    0x6f,    
            0x6e,    0x73,    0x74,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x26,    0x20,    0x76,    0x29,    0x0a,    0x7b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x5f,    0x32,    0x33,    0x20,    0x3d,    
            0x20,    0x66,    0x72,    0x61,    0x63,    0x74,    0x28,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x28,    0x31,    0x2e,    
            0x30,    0x2c,    0x20,    0x32,    0x35,    0x35,    0x2e,    0x30,    0x2c,    0x20,    0x36,    0x35,    0x30,    0x32,    0x35,    0x2e,    
            0x30,    0x2c,    0x20,    0x31,    0x36,    0x35,    0x38,    0x31,    0x33,    0x37,    0x35,    0x2e,    0x30,    0x29,    0x20,    0x2a,    
            0x20,    0x76,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    
            0x5f,    0x32,    0x33,    0x20,    0x2d,    0x20,    0x28,    0x5f,    0x32,    0x33,    0x2e,    0x79,    0x7a,    0x77,    0x77,    0x20,    
            0x2a,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x28,    0x30,    0x2e,    0x30,    0x30,    0x33,    0x39,    0x32,    
            0x31,    0x35,    0x36,    0x38,    0x38,    0x35,    0x39,    0x33,    0x36,    0x38,    0x35,    0x36,    0x32,    0x36,    0x39,    0x38,    
            0x33,    0x36,    0x34,    0x32,    0x35,    0x37,    0x38,    0x31,    0x32,    0x35,    0x2c,    0x20,    0x30,    0x2e,    0x30,    0x30,    
            0x33,    0x39,    0x32,    0x31,    0x35,    0x36,    0x38,    0x38,    0x35,    0x39,    0x33,    0x36,    0x38,    0x35,    0x36,    0x32,    
            0x36,    0x39,    0x38,    0x33,    0x36,    0x34,    0x32,    0x35,    0x37,    0x38,    0x31,    0x32,    0x35,    0x2c,    0x20,    0x30,    
            0x2e,    0x30,    0x30,    0x33,    0x39,    0x32,    0x31,    0x35,    0x36,    0x38,    0x38,    0x35,    0x39,    0x33,    0x36,    0x38,    
            0x35,    0x36,    0x32,    0x36,    0x39,    0x38,    0x33,    0x36,    0x34,    0x32,    0x35,    0x37,    0x38,    0x31,    0x32,    0x35,    
            0x2c,    0x20,    0x30,    0x2e,    0x30,    0x29,    0x29,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x66,    0x72,    0x61,    0x67,    
            0x6d,    0x65,    0x6e,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6d,    
            0x61,    0x69,    0x6e,    0x30,    0x28,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x20,    0x69,    0x6e,    
            0x20,    0x5b,    0x5b,    0x73,    0x74,    0x61,    0x67,    0x65,    0x5f,    0x69,    0x6e,    0x5d,    0x5d,    0x29,    0x0a,    0x7b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6f,    
            0x75,    0x74,    0x20,    0x3d,    0x20,    0x7b,    0x7d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x20,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x20,    0x3d,    0x20,    0x69,    0x6e,    0x2e,    0x70,    0x72,    
            0x6f,    0x6a,    0x5f,    0x7a,    0x77,    0x2e,    0x78,    0x20,    0x2f,    0x20,    0x69,    0x6e,    0x2e,    0x70,    0x72,    0x6f,    
            0x6a,    0x5f,    0x7a,    0x77,    0x2e,    0x79,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    
            0x66,    0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x3d,    0x20,    0x65,    0x6e,    0x63,    
            0x6f,    0x64,    0x65,    0x5f,    0x64,    0x65,    0x70,    0x74,    0x68,    0x28,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x29,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x6f,    0x75,    0x74,    
            0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x00,    
};
    /*
        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        struct vs_display_params
        {
            float4x4 mvp;
            float4x4 model;
            float4x4 light_mvp;
            float3 diff_color;
        };

        struct main0_out
        {
            float3 color [[user(locn0)]];
            float4 light_proj_pos [[user(locn1)]];
            float4 world_pos [[user(locn2)]];
            float3 world_norm [[user(locn3)]];
            float4 gl_Position [[position]];
        };

        struct main0_in
        {
            float4 pos [[attribute(0)]];
            float3 norm [[attribute(1)]];
        };

        vertex main0_out main0(main0_in in [[stage_in]], constant vs_display_params& _20 [[buffer(0)]])
        {
            main0_out out = {};
            out.gl_Position = _20.mvp * in.pos;
            out.light_proj_pos = _20.light_mvp * in.pos;
            out.light_proj_pos.y = -out.light_proj_pos.y;
            out.world_pos = _20.model * in.pos;
            out.world_norm = fast::normalize((_20.model * float4(in.norm, 0.0)).xyz);
            out.color = _20.diff_color;
            return out;
        }

    */
    static readonly byte[] vs_display_source_metal_macos = {
            0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    
            0x73,    0x74,    0x64,    0x6c,    0x69,    0x62,    0x3e,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    
            0x20,    0x3c,    0x73,    0x69,    0x6d,    0x64,    0x2f,    0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    
            0x75,    0x73,    0x69,    0x6e,    0x67,    0x20,    0x6e,    0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    
            0x6d,    0x65,    0x74,    0x61,    0x6c,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x76,    
            0x73,    0x5f,    0x64,    0x69,    0x73,    0x70,    0x6c,    0x61,    0x79,    0x5f,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x73,    
            0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x78,    0x34,    0x20,    
            0x6d,    0x76,    0x70,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x78,    
            0x34,    0x20,    0x6d,    0x6f,    0x64,    0x65,    0x6c,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x34,    0x78,    0x34,    0x20,    0x6c,    0x69,    0x67,    0x68,    0x74,    0x5f,    0x6d,    0x76,    0x70,    0x3b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x20,    0x64,    0x69,    0x66,    0x66,    
            0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    
            0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x0a,    0x7b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x20,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    
            0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x6c,    0x69,    0x67,    0x68,    
            0x74,    0x5f,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    0x70,    0x6f,    0x73,    0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    
            0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x31,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x77,    0x6f,    0x72,    0x6c,    0x64,    0x5f,    0x70,    0x6f,    0x73,    
            0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x32,    0x29,    0x5d,    0x5d,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x20,    0x77,    0x6f,    0x72,    
            0x6c,    0x64,    0x5f,    0x6e,    0x6f,    0x72,    0x6d,    0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    
            0x6f,    0x63,    0x6e,    0x33,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x34,    0x20,    0x67,    0x6c,    0x5f,    0x50,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    0x20,    
            0x5b,    0x5b,    0x70,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    
            0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    
            0x6e,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x70,    
            0x6f,    0x73,    0x20,    0x5b,    0x5b,    0x61,    0x74,    0x74,    0x72,    0x69,    0x62,    0x75,    0x74,    0x65,    0x28,    0x30,    
            0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x20,    
            0x6e,    0x6f,    0x72,    0x6d,    0x20,    0x5b,    0x5b,    0x61,    0x74,    0x74,    0x72,    0x69,    0x62,    0x75,    0x74,    0x65,    
            0x28,    0x31,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x76,    0x65,    0x72,    0x74,    0x65,    
            0x78,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    
            0x30,    0x28,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x20,    0x69,    0x6e,    0x20,    0x5b,    0x5b,    
            0x73,    0x74,    0x61,    0x67,    0x65,    0x5f,    0x69,    0x6e,    0x5d,    0x5d,    0x2c,    0x20,    0x63,    0x6f,    0x6e,    0x73,    
            0x74,    0x61,    0x6e,    0x74,    0x20,    0x76,    0x73,    0x5f,    0x64,    0x69,    0x73,    0x70,    0x6c,    0x61,    0x79,    0x5f,    
            0x70,    0x61,    0x72,    0x61,    0x6d,    0x73,    0x26,    0x20,    0x5f,    0x32,    0x30,    0x20,    0x5b,    0x5b,    0x62,    0x75,    
            0x66,    0x66,    0x65,    0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x29,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6f,    0x75,    0x74,    0x20,    0x3d,    
            0x20,    0x7b,    0x7d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x67,    0x6c,    0x5f,    
            0x50,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    0x20,    0x3d,    0x20,    0x5f,    0x32,    0x30,    0x2e,    0x6d,    
            0x76,    0x70,    0x20,    0x2a,    0x20,    0x69,    0x6e,    0x2e,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x6f,    0x75,    0x74,    0x2e,    0x6c,    0x69,    0x67,    0x68,    0x74,    0x5f,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    
            0x70,    0x6f,    0x73,    0x20,    0x3d,    0x20,    0x5f,    0x32,    0x30,    0x2e,    0x6c,    0x69,    0x67,    0x68,    0x74,    0x5f,    
            0x6d,    0x76,    0x70,    0x20,    0x2a,    0x20,    0x69,    0x6e,    0x2e,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x6c,    0x69,    0x67,    0x68,    0x74,    0x5f,    0x70,    0x72,    0x6f,    0x6a,    
            0x5f,    0x70,    0x6f,    0x73,    0x2e,    0x79,    0x20,    0x3d,    0x20,    0x2d,    0x6f,    0x75,    0x74,    0x2e,    0x6c,    0x69,    
            0x67,    0x68,    0x74,    0x5f,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    0x70,    0x6f,    0x73,    0x2e,    0x79,    0x3b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x77,    0x6f,    0x72,    0x6c,    0x64,    0x5f,    0x70,    0x6f,    
            0x73,    0x20,    0x3d,    0x20,    0x5f,    0x32,    0x30,    0x2e,    0x6d,    0x6f,    0x64,    0x65,    0x6c,    0x20,    0x2a,    0x20,    
            0x69,    0x6e,    0x2e,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    
            0x77,    0x6f,    0x72,    0x6c,    0x64,    0x5f,    0x6e,    0x6f,    0x72,    0x6d,    0x20,    0x3d,    0x20,    0x66,    0x61,    0x73,    
            0x74,    0x3a,    0x3a,    0x6e,    0x6f,    0x72,    0x6d,    0x61,    0x6c,    0x69,    0x7a,    0x65,    0x28,    0x28,    0x5f,    0x32,    
            0x30,    0x2e,    0x6d,    0x6f,    0x64,    0x65,    0x6c,    0x20,    0x2a,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    
            0x28,    0x69,    0x6e,    0x2e,    0x6e,    0x6f,    0x72,    0x6d,    0x2c,    0x20,    0x30,    0x2e,    0x30,    0x29,    0x29,    0x2e,    
            0x78,    0x79,    0x7a,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x63,    0x6f,    
            0x6c,    0x6f,    0x72,    0x20,    0x3d,    0x20,    0x5f,    0x32,    0x30,    0x2e,    0x64,    0x69,    0x66,    0x66,    0x5f,    0x63,    
            0x6f,    0x6c,    0x6f,    0x72,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    
            0x20,    0x6f,    0x75,    0x74,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x00,    
};
    /*
        #pragma clang diagnostic ignored "-Wmissing-prototypes"

        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        struct fs_display_params
        {
            float3 light_dir;
            float3 eye_pos;
        };

        struct main0_out
        {
            float4 frag_color [[color(0)]];
        };

        struct main0_in
        {
            float3 color [[user(locn0)]];
            float4 light_proj_pos [[user(locn1)]];
            float4 world_pos [[user(locn2)]];
            float3 world_norm [[user(locn3)]];
        };

        static inline __attribute__((always_inline))
        float decodeDepth(thread const float4& rgba)
        {
            return dot(rgba, float4(1.0, 0.0039215688593685626983642578125, 1.5378700481960549950599670410156e-05, 6.0308629201699659461155533790588e-08));
        }

        static inline __attribute__((always_inline))
        float sample_shadow(texture2d<float> tex, sampler smp, thread const float2& uv, thread const float& compare)
        {
            float4 param = tex.sample(smp, float2(uv.x, uv.y));
            return step(compare, decodeDepth(param));
        }

        static inline __attribute__((always_inline))
        float sample_shadow_pcf(texture2d<float> tex, sampler smp, thread const float3& uv_depth, thread const float2& sm_size)
        {
            float result = 0.0;
            for (int x = -2; x <= 2; x++)
            {
                for (int y = -2; y <= 2; y++)
                {
                    float2 param = uv_depth.xy + (float2(float(x), float(y)) / sm_size);
                    float param_1 = uv_depth.z;
                    result += sample_shadow(tex, smp, param, param_1);
                }
            }
            return result * 0.039999999105930328369140625;
        }

        static inline __attribute__((always_inline))
        float4 gamma(thread const float4& c)
        {
            return float4(powr(c.xyz, float3(0.4545454680919647216796875)), c.w);
        }

        fragment main0_out main0(main0_in in [[stage_in]], constant fs_display_params& _157 [[buffer(1)]], texture2d<float> shadow_map [[texture(0)]], sampler shadow_sampler [[sampler(0)]])
        {
            main0_out out = {};
            float3 _161 = fast::normalize(_157.light_dir);
            float3 _166 = fast::normalize(in.world_norm);
            float _170 = dot(_166, _161);
            if (_170 > 0.0)
            {
                float3 _184 = in.light_proj_pos.xyz / float3(in.light_proj_pos.w);
                float3 param = float3((_184.xy + float2(1.0)) * 0.5, _184.z);
                float2 param_1 = float2(int2(shadow_map.get_width(), shadow_map.get_height()));
                float _202 = sample_shadow_pcf(shadow_map, shadow_sampler, param, param_1);
                out.frag_color = float4(float3((powr(fast::max(dot(reflect(-_161, _166), fast::normalize(_157.eye_pos - in.world_pos.xyz)), 0.0), 2.2000000476837158203125) * _170) * _202) + (in.color * (fast::max(_170 * _202, 0.0) + 0.25)), 1.0);
            }
            else
            {
                out.frag_color = float4(in.color * 0.25, 1.0);
            }
            float4 param_2 = out.frag_color;
            out.frag_color = gamma(param_2);
            return out;
        }

    */
    static readonly byte[] fs_display_source_metal_macos = {
            0x23,    0x70,    0x72,    0x61,    0x67,    0x6d,    0x61,    0x20,    0x63,    0x6c,    0x61,    0x6e,    0x67,    0x20,    0x64,    0x69,    
            0x61,    0x67,    0x6e,    0x6f,    0x73,    0x74,    0x69,    0x63,    0x20,    0x69,    0x67,    0x6e,    0x6f,    0x72,    0x65,    0x64,    
            0x20,    0x22,    0x2d,    0x57,    0x6d,    0x69,    0x73,    0x73,    0x69,    0x6e,    0x67,    0x2d,    0x70,    0x72,    0x6f,    0x74,    
            0x6f,    0x74,    0x79,    0x70,    0x65,    0x73,    0x22,    0x0a,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    
            0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    0x73,    0x74,    0x64,    0x6c,    0x69,    0x62,    0x3e,    
            0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x73,    0x69,    0x6d,    0x64,    0x2f,    
            0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    0x75,    0x73,    0x69,    0x6e,    0x67,    0x20,    0x6e,    
            0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x3b,    0x0a,    
            0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x66,    0x73,    0x5f,    0x64,    0x69,    0x73,    0x70,    0x6c,    
            0x61,    0x79,    0x5f,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x73,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x20,    0x6c,    0x69,    0x67,    0x68,    0x74,    0x5f,    0x64,    0x69,    0x72,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x20,    0x65,    0x79,    0x65,    
            0x5f,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    
            0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x66,    0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    0x6c,    
            0x6f,    0x72,    0x20,    0x5b,    0x5b,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    
            0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    
            0x30,    0x5f,    0x69,    0x6e,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    
            0x33,    0x20,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    
            0x6f,    0x63,    0x6e,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x34,    0x20,    0x6c,    0x69,    0x67,    0x68,    0x74,    0x5f,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    0x70,    
            0x6f,    0x73,    0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x31,    0x29,    
            0x5d,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x77,    
            0x6f,    0x72,    0x6c,    0x64,    0x5f,    0x70,    0x6f,    0x73,    0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    
            0x6c,    0x6f,    0x63,    0x6e,    0x32,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x33,    0x20,    0x77,    0x6f,    0x72,    0x6c,    0x64,    0x5f,    0x6e,    0x6f,    0x72,    0x6d,    0x20,    
            0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x33,    0x29,    0x5d,    0x5d,    0x3b,    
            0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x61,    0x74,    0x69,    0x63,    0x20,    0x69,    0x6e,    0x6c,    0x69,    
            0x6e,    0x65,    0x20,    0x5f,    0x5f,    0x61,    0x74,    0x74,    0x72,    0x69,    0x62,    0x75,    0x74,    0x65,    0x5f,    0x5f,    
            0x28,    0x28,    0x61,    0x6c,    0x77,    0x61,    0x79,    0x73,    0x5f,    0x69,    0x6e,    0x6c,    0x69,    0x6e,    0x65,    0x29,    
            0x29,    0x0a,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x64,    0x65,    0x63,    0x6f,    0x64,    0x65,    0x44,    0x65,    
            0x70,    0x74,    0x68,    0x28,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    
            0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x26,    0x20,    0x72,    0x67,    0x62,    0x61,    0x29,    0x0a,    0x7b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x64,    0x6f,    0x74,    0x28,    
            0x72,    0x67,    0x62,    0x61,    0x2c,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x28,    0x31,    0x2e,    0x30,    
            0x2c,    0x20,    0x30,    0x2e,    0x30,    0x30,    0x33,    0x39,    0x32,    0x31,    0x35,    0x36,    0x38,    0x38,    0x35,    0x39,    
            0x33,    0x36,    0x38,    0x35,    0x36,    0x32,    0x36,    0x39,    0x38,    0x33,    0x36,    0x34,    0x32,    0x35,    0x37,    0x38,    
            0x31,    0x32,    0x35,    0x2c,    0x20,    0x31,    0x2e,    0x35,    0x33,    0x37,    0x38,    0x37,    0x30,    0x30,    0x34,    0x38,    
            0x31,    0x39,    0x36,    0x30,    0x35,    0x34,    0x39,    0x39,    0x35,    0x30,    0x35,    0x39,    0x39,    0x36,    0x37,    0x30,    
            0x34,    0x31,    0x30,    0x31,    0x35,    0x36,    0x65,    0x2d,    0x30,    0x35,    0x2c,    0x20,    0x36,    0x2e,    0x30,    0x33,    
            0x30,    0x38,    0x36,    0x32,    0x39,    0x32,    0x30,    0x31,    0x36,    0x39,    0x39,    0x36,    0x35,    0x39,    0x34,    0x36,    
            0x31,    0x31,    0x35,    0x35,    0x35,    0x33,    0x33,    0x37,    0x39,    0x30,    0x35,    0x38,    0x38,    0x65,    0x2d,    0x30,    
            0x38,    0x29,    0x29,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x73,    0x74,    0x61,    0x74,    0x69,    0x63,    0x20,    0x69,    
            0x6e,    0x6c,    0x69,    0x6e,    0x65,    0x20,    0x5f,    0x5f,    0x61,    0x74,    0x74,    0x72,    0x69,    0x62,    0x75,    0x74,    
            0x65,    0x5f,    0x5f,    0x28,    0x28,    0x61,    0x6c,    0x77,    0x61,    0x79,    0x73,    0x5f,    0x69,    0x6e,    0x6c,    0x69,    
            0x6e,    0x65,    0x29,    0x29,    0x0a,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x73,    0x61,    0x6d,    0x70,    0x6c,    
            0x65,    0x5f,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    0x28,    0x74,    0x65,    0x78,    0x74,    0x75,    0x72,    0x65,    
            0x32,    0x64,    0x3c,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x3e,    0x20,    0x74,    0x65,    0x78,    0x2c,    0x20,    0x73,    
            0x61,    0x6d,    0x70,    0x6c,    0x65,    0x72,    0x20,    0x73,    0x6d,    0x70,    0x2c,    0x20,    0x74,    0x68,    0x72,    0x65,    
            0x61,    0x64,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x26,    
            0x20,    0x75,    0x76,    0x2c,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x20,    0x63,    0x6f,    0x6e,    0x73,    
            0x74,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x26,    0x20,    0x63,    0x6f,    0x6d,    0x70,    0x61,    0x72,    0x65,    
            0x29,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x70,    
            0x61,    0x72,    0x61,    0x6d,    0x20,    0x3d,    0x20,    0x74,    0x65,    0x78,    0x2e,    0x73,    0x61,    0x6d,    0x70,    0x6c,    
            0x65,    0x28,    0x73,    0x6d,    0x70,    0x2c,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x75,    0x76,    
            0x2e,    0x78,    0x2c,    0x20,    0x75,    0x76,    0x2e,    0x79,    0x29,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x73,    0x74,    0x65,    0x70,    0x28,    0x63,    0x6f,    0x6d,    0x70,    
            0x61,    0x72,    0x65,    0x2c,    0x20,    0x64,    0x65,    0x63,    0x6f,    0x64,    0x65,    0x44,    0x65,    0x70,    0x74,    0x68,    
            0x28,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x29,    0x29,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x73,    0x74,    0x61,    
            0x74,    0x69,    0x63,    0x20,    0x69,    0x6e,    0x6c,    0x69,    0x6e,    0x65,    0x20,    0x5f,    0x5f,    0x61,    0x74,    0x74,    
            0x72,    0x69,    0x62,    0x75,    0x74,    0x65,    0x5f,    0x5f,    0x28,    0x28,    0x61,    0x6c,    0x77,    0x61,    0x79,    0x73,    
            0x5f,    0x69,    0x6e,    0x6c,    0x69,    0x6e,    0x65,    0x29,    0x29,    0x0a,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    
            0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x5f,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    0x5f,    0x70,    0x63,    
            0x66,    0x28,    0x74,    0x65,    0x78,    0x74,    0x75,    0x72,    0x65,    0x32,    0x64,    0x3c,    0x66,    0x6c,    0x6f,    0x61,    
            0x74,    0x3e,    0x20,    0x74,    0x65,    0x78,    0x2c,    0x20,    0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x72,    0x20,    
            0x73,    0x6d,    0x70,    0x2c,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x20,    0x63,    0x6f,    0x6e,    0x73,    
            0x74,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x26,    0x20,    0x75,    0x76,    0x5f,    0x64,    0x65,    0x70,    
            0x74,    0x68,    0x2c,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    
            0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x26,    0x20,    0x73,    0x6d,    0x5f,    0x73,    0x69,    0x7a,    0x65,    
            0x29,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x72,    0x65,    
            0x73,    0x75,    0x6c,    0x74,    0x20,    0x3d,    0x20,    0x30,    0x2e,    0x30,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x66,    0x6f,    0x72,    0x20,    0x28,    0x69,    0x6e,    0x74,    0x20,    0x78,    0x20,    0x3d,    0x20,    0x2d,    0x32,    0x3b,    
            0x20,    0x78,    0x20,    0x3c,    0x3d,    0x20,    0x32,    0x3b,    0x20,    0x78,    0x2b,    0x2b,    0x29,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6f,    0x72,    0x20,    
            0x28,    0x69,    0x6e,    0x74,    0x20,    0x79,    0x20,    0x3d,    0x20,    0x2d,    0x32,    0x3b,    0x20,    0x79,    0x20,    0x3c,    
            0x3d,    0x20,    0x32,    0x3b,    0x20,    0x79,    0x2b,    0x2b,    0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x20,    0x3d,    0x20,    0x75,    
            0x76,    0x5f,    0x64,    0x65,    0x70,    0x74,    0x68,    0x2e,    0x78,    0x79,    0x20,    0x2b,    0x20,    0x28,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x32,    0x28,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x28,    0x78,    0x29,    0x2c,    0x20,    0x66,    
            0x6c,    0x6f,    0x61,    0x74,    0x28,    0x79,    0x29,    0x29,    0x20,    0x2f,    0x20,    0x73,    0x6d,    0x5f,    0x73,    0x69,    
            0x7a,    0x65,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x5f,    0x31,    0x20,    0x3d,    
            0x20,    0x75,    0x76,    0x5f,    0x64,    0x65,    0x70,    0x74,    0x68,    0x2e,    0x7a,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x73,    0x75,    0x6c,    0x74,    0x20,    
            0x2b,    0x3d,    0x20,    0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x5f,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    
            0x28,    0x74,    0x65,    0x78,    0x2c,    0x20,    0x73,    0x6d,    0x70,    0x2c,    0x20,    0x70,    0x61,    0x72,    0x61,    0x6d,    
            0x2c,    0x20,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x5f,    0x31,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x72,    0x65,    0x73,    0x75,    0x6c,    0x74,    0x20,    0x2a,    0x20,    
            0x30,    0x2e,    0x30,    0x33,    0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    0x31,    0x30,    0x35,    0x39,    0x33,    
            0x30,    0x33,    0x32,    0x38,    0x33,    0x36,    0x39,    0x31,    0x34,    0x30,    0x36,    0x32,    0x35,    0x3b,    0x0a,    0x7d,    
            0x0a,    0x0a,    0x73,    0x74,    0x61,    0x74,    0x69,    0x63,    0x20,    0x69,    0x6e,    0x6c,    0x69,    0x6e,    0x65,    0x20,    
            0x5f,    0x5f,    0x61,    0x74,    0x74,    0x72,    0x69,    0x62,    0x75,    0x74,    0x65,    0x5f,    0x5f,    0x28,    0x28,    0x61,    
            0x6c,    0x77,    0x61,    0x79,    0x73,    0x5f,    0x69,    0x6e,    0x6c,    0x69,    0x6e,    0x65,    0x29,    0x29,    0x0a,    0x66,    
            0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x67,    0x61,    0x6d,    0x6d,    0x61,    0x28,    0x74,    0x68,    0x72,    0x65,    
            0x61,    0x64,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x26,    
            0x20,    0x63,    0x29,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    
            0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x28,    0x70,    0x6f,    0x77,    0x72,    0x28,    0x63,    0x2e,    0x78,    
            0x79,    0x7a,    0x2c,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x28,    0x30,    0x2e,    0x34,    0x35,    0x34,    
            0x35,    0x34,    0x35,    0x34,    0x36,    0x38,    0x30,    0x39,    0x31,    0x39,    0x36,    0x34,    0x37,    0x32,    0x31,    0x36,    
            0x37,    0x39,    0x36,    0x38,    0x37,    0x35,    0x29,    0x29,    0x2c,    0x20,    0x63,    0x2e,    0x77,    0x29,    0x3b,    0x0a,    
            0x7d,    0x0a,    0x0a,    0x66,    0x72,    0x61,    0x67,    0x6d,    0x65,    0x6e,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    
            0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x28,    0x6d,    0x61,    0x69,    0x6e,    
            0x30,    0x5f,    0x69,    0x6e,    0x20,    0x69,    0x6e,    0x20,    0x5b,    0x5b,    0x73,    0x74,    0x61,    0x67,    0x65,    0x5f,    
            0x69,    0x6e,    0x5d,    0x5d,    0x2c,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x74,    0x20,    0x66,    
            0x73,    0x5f,    0x64,    0x69,    0x73,    0x70,    0x6c,    0x61,    0x79,    0x5f,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x73,    
            0x26,    0x20,    0x5f,    0x31,    0x35,    0x37,    0x20,    0x5b,    0x5b,    0x62,    0x75,    0x66,    0x66,    0x65,    0x72,    0x28,    
            0x31,    0x29,    0x5d,    0x5d,    0x2c,    0x20,    0x74,    0x65,    0x78,    0x74,    0x75,    0x72,    0x65,    0x32,    0x64,    0x3c,    
            0x66,    0x6c,    0x6f,    0x61,    0x74,    0x3e,    0x20,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    0x5f,    0x6d,    0x61,    
            0x70,    0x20,    0x5b,    0x5b,    0x74,    0x65,    0x78,    0x74,    0x75,    0x72,    0x65,    0x28,    0x30,    0x29,    0x5d,    0x5d,    
            0x2c,    0x20,    0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x72,    0x20,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    
            0x5f,    0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x72,    0x20,    0x5b,    0x5b,    0x73,    0x61,    0x6d,    0x70,    0x6c,    
            0x65,    0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x29,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6d,    
            0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6f,    0x75,    0x74,    0x20,    0x3d,    0x20,    0x7b,    
            0x7d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x20,    0x5f,    0x31,    
            0x36,    0x31,    0x20,    0x3d,    0x20,    0x66,    0x61,    0x73,    0x74,    0x3a,    0x3a,    0x6e,    0x6f,    0x72,    0x6d,    0x61,    
            0x6c,    0x69,    0x7a,    0x65,    0x28,    0x5f,    0x31,    0x35,    0x37,    0x2e,    0x6c,    0x69,    0x67,    0x68,    0x74,    0x5f,    
            0x64,    0x69,    0x72,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    
            0x20,    0x5f,    0x31,    0x36,    0x36,    0x20,    0x3d,    0x20,    0x66,    0x61,    0x73,    0x74,    0x3a,    0x3a,    0x6e,    0x6f,    
            0x72,    0x6d,    0x61,    0x6c,    0x69,    0x7a,    0x65,    0x28,    0x69,    0x6e,    0x2e,    0x77,    0x6f,    0x72,    0x6c,    0x64,    
            0x5f,    0x6e,    0x6f,    0x72,    0x6d,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    
            0x74,    0x20,    0x5f,    0x31,    0x37,    0x30,    0x20,    0x3d,    0x20,    0x64,    0x6f,    0x74,    0x28,    0x5f,    0x31,    0x36,    
            0x36,    0x2c,    0x20,    0x5f,    0x31,    0x36,    0x31,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    
            0x20,    0x28,    0x5f,    0x31,    0x37,    0x30,    0x20,    0x3e,    0x20,    0x30,    0x2e,    0x30,    0x29,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    
            0x74,    0x33,    0x20,    0x5f,    0x31,    0x38,    0x34,    0x20,    0x3d,    0x20,    0x69,    0x6e,    0x2e,    0x6c,    0x69,    0x67,    
            0x68,    0x74,    0x5f,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    0x70,    0x6f,    0x73,    0x2e,    0x78,    0x79,    0x7a,    0x20,    
            0x2f,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x28,    0x69,    0x6e,    0x2e,    0x6c,    0x69,    0x67,    0x68,    
            0x74,    0x5f,    0x70,    0x72,    0x6f,    0x6a,    0x5f,    0x70,    0x6f,    0x73,    0x2e,    0x77,    0x29,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x20,    0x70,    0x61,    
            0x72,    0x61,    0x6d,    0x20,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x28,    0x28,    0x5f,    0x31,    
            0x38,    0x34,    0x2e,    0x78,    0x79,    0x20,    0x2b,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x31,    
            0x2e,    0x30,    0x29,    0x29,    0x20,    0x2a,    0x20,    0x30,    0x2e,    0x35,    0x2c,    0x20,    0x5f,    0x31,    0x38,    0x34,    
            0x2e,    0x7a,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x32,    0x20,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x5f,    0x31,    0x20,    0x3d,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x32,    0x28,    0x69,    0x6e,    0x74,    0x32,    0x28,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    
            0x5f,    0x6d,    0x61,    0x70,    0x2e,    0x67,    0x65,    0x74,    0x5f,    0x77,    0x69,    0x64,    0x74,    0x68,    0x28,    0x29,    
            0x2c,    0x20,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    0x5f,    0x6d,    0x61,    0x70,    0x2e,    0x67,    0x65,    0x74,    
            0x5f,    0x68,    0x65,    0x69,    0x67,    0x68,    0x74,    0x28,    0x29,    0x29,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x5f,    0x32,    0x30,    0x32,    0x20,    
            0x3d,    0x20,    0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x5f,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    0x5f,    
            0x70,    0x63,    0x66,    0x28,    0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    0x5f,    0x6d,    0x61,    0x70,    0x2c,    0x20,    
            0x73,    0x68,    0x61,    0x64,    0x6f,    0x77,    0x5f,    0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x72,    0x2c,    0x20,    
            0x70,    0x61,    0x72,    0x61,    0x6d,    0x2c,    0x20,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x5f,    0x31,    0x29,    0x3b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x66,    0x72,    0x61,    
            0x67,    0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    
            0x28,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x33,    0x28,    0x28,    0x70,    0x6f,    0x77,    0x72,    0x28,    0x66,    0x61,    
            0x73,    0x74,    0x3a,    0x3a,    0x6d,    0x61,    0x78,    0x28,    0x64,    0x6f,    0x74,    0x28,    0x72,    0x65,    0x66,    0x6c,    
            0x65,    0x63,    0x74,    0x28,    0x2d,    0x5f,    0x31,    0x36,    0x31,    0x2c,    0x20,    0x5f,    0x31,    0x36,    0x36,    0x29,    
            0x2c,    0x20,    0x66,    0x61,    0x73,    0x74,    0x3a,    0x3a,    0x6e,    0x6f,    0x72,    0x6d,    0x61,    0x6c,    0x69,    0x7a,    
            0x65,    0x28,    0x5f,    0x31,    0x35,    0x37,    0x2e,    0x65,    0x79,    0x65,    0x5f,    0x70,    0x6f,    0x73,    0x20,    0x2d,    
            0x20,    0x69,    0x6e,    0x2e,    0x77,    0x6f,    0x72,    0x6c,    0x64,    0x5f,    0x70,    0x6f,    0x73,    0x2e,    0x78,    0x79,    
            0x7a,    0x29,    0x29,    0x2c,    0x20,    0x30,    0x2e,    0x30,    0x29,    0x2c,    0x20,    0x32,    0x2e,    0x32,    0x30,    0x30,    
            0x30,    0x30,    0x30,    0x30,    0x34,    0x37,    0x36,    0x38,    0x33,    0x37,    0x31,    0x35,    0x38,    0x32,    0x30,    0x33,    
            0x31,    0x32,    0x35,    0x29,    0x20,    0x2a,    0x20,    0x5f,    0x31,    0x37,    0x30,    0x29,    0x20,    0x2a,    0x20,    0x5f,    
            0x32,    0x30,    0x32,    0x29,    0x20,    0x2b,    0x20,    0x28,    0x69,    0x6e,    0x2e,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    
            0x20,    0x2a,    0x20,    0x28,    0x66,    0x61,    0x73,    0x74,    0x3a,    0x3a,    0x6d,    0x61,    0x78,    0x28,    0x5f,    0x31,    
            0x37,    0x30,    0x20,    0x2a,    0x20,    0x5f,    0x32,    0x30,    0x32,    0x2c,    0x20,    0x30,    0x2e,    0x30,    0x29,    0x20,    
            0x2b,    0x20,    0x30,    0x2e,    0x32,    0x35,    0x29,    0x29,    0x2c,    0x20,    0x31,    0x2e,    0x30,    0x29,    0x3b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x65,    0x6c,    0x73,    0x65,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    
            0x2e,    0x66,    0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x3d,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x34,    0x28,    0x69,    0x6e,    0x2e,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x2a,    0x20,    
            0x30,    0x2e,    0x32,    0x35,    0x2c,    0x20,    0x31,    0x2e,    0x30,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x70,    0x61,    0x72,    
            0x61,    0x6d,    0x5f,    0x32,    0x20,    0x3d,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x66,    0x72,    0x61,    0x67,    0x5f,    
            0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x66,    
            0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x3d,    0x20,    0x67,    0x61,    0x6d,    0x6d,    
            0x61,    0x28,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x5f,    0x32,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x6f,    0x75,    0x74,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x00,    
    
};
    /*
        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        struct main0_out
        {
            float2 uv [[user(locn0)]];
            float4 gl_Position [[position]];
        };

        struct main0_in
        {
            float2 pos [[attribute(0)]];
        };

        vertex main0_out main0(main0_in in [[stage_in]])
        {
            main0_out out = {};
            out.gl_Position = float4((in.pos * 2.0) - float2(1.0), 0.5, 1.0);
            out.uv = in.pos;
            return out;
        }

    */
    static readonly byte[] vs_dbg_source_metal_macos = {
            0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    
            0x73,    0x74,    0x64,    0x6c,    0x69,    0x62,    0x3e,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    
            0x20,    0x3c,    0x73,    0x69,    0x6d,    0x64,    0x2f,    0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    
            0x75,    0x73,    0x69,    0x6e,    0x67,    0x20,    0x6e,    0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    
            0x6d,    0x65,    0x74,    0x61,    0x6c,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    
            0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    
            0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x75,    0x76,    0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    
            0x6c,    0x6f,    0x63,    0x6e,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x34,    0x20,    0x67,    0x6c,    0x5f,    0x50,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    
            0x20,    0x5b,    0x5b,    0x70,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    
            0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    
            0x69,    0x6e,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    
            0x70,    0x6f,    0x73,    0x20,    0x5b,    0x5b,    0x61,    0x74,    0x74,    0x72,    0x69,    0x62,    0x75,    0x74,    0x65,    0x28,    
            0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x76,    0x65,    0x72,    0x74,    0x65,    0x78,    
            0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    
            0x28,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x20,    0x69,    0x6e,    0x20,    0x5b,    0x5b,    0x73,    
            0x74,    0x61,    0x67,    0x65,    0x5f,    0x69,    0x6e,    0x5d,    0x5d,    0x29,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6f,    0x75,    0x74,    0x20,    0x3d,    
            0x20,    0x7b,    0x7d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x67,    0x6c,    0x5f,    
            0x50,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    0x20,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    
            0x34,    0x28,    0x28,    0x69,    0x6e,    0x2e,    0x70,    0x6f,    0x73,    0x20,    0x2a,    0x20,    0x32,    0x2e,    0x30,    0x29,    
            0x20,    0x2d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x31,    0x2e,    0x30,    0x29,    0x2c,    0x20,    
            0x30,    0x2e,    0x35,    0x2c,    0x20,    0x31,    0x2e,    0x30,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    
            0x75,    0x74,    0x2e,    0x75,    0x76,    0x20,    0x3d,    0x20,    0x69,    0x6e,    0x2e,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x6f,    0x75,    0x74,    0x3b,    0x0a,    
            0x7d,    0x0a,    0x0a,    0x00,    
};
    /*
        #pragma clang diagnostic ignored "-Wmissing-prototypes"

        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        struct main0_out
        {
            float4 frag_color [[color(0)]];
        };

        struct main0_in
        {
            float2 uv [[user(locn0)]];
        };

        static inline __attribute__((always_inline))
        float decodeDepth(thread const float4& rgba)
        {
            return dot(rgba, float4(1.0, 0.0039215688593685626983642578125, 1.5378700481960549950599670410156e-05, 6.0308629201699659461155533790588e-08));
        }

        fragment main0_out main0(main0_in in [[stage_in]], texture2d<float> dbg_tex [[texture(0)]], sampler dbg_smp [[sampler(0)]])
        {
            main0_out out = {};
            float4 param = dbg_tex.sample(dbg_smp, in.uv);
            float _40 = decodeDepth(param);
            out.frag_color = float4(_40, _40, _40, 1.0);
            return out;
        }

    */
    static readonly byte[] fs_dbg_source_metal_macos = {
            0x23,    0x70,    0x72,    0x61,    0x67,    0x6d,    0x61,    0x20,    0x63,    0x6c,    0x61,    0x6e,    0x67,    0x20,    0x64,    0x69,    
            0x61,    0x67,    0x6e,    0x6f,    0x73,    0x74,    0x69,    0x63,    0x20,    0x69,    0x67,    0x6e,    0x6f,    0x72,    0x65,    0x64,    
            0x20,    0x22,    0x2d,    0x57,    0x6d,    0x69,    0x73,    0x73,    0x69,    0x6e,    0x67,    0x2d,    0x70,    0x72,    0x6f,    0x74,    
            0x6f,    0x74,    0x79,    0x70,    0x65,    0x73,    0x22,    0x0a,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    
            0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    0x73,    0x74,    0x64,    0x6c,    0x69,    0x62,    0x3e,    
            0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x73,    0x69,    0x6d,    0x64,    0x2f,    
            0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    0x75,    0x73,    0x69,    0x6e,    0x67,    0x20,    0x6e,    
            0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x3b,    0x0a,    
            0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    
            0x74,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x66,    
            0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x5b,    0x5b,    0x63,    0x6f,    0x6c,    0x6f,    
            0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    
            0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x75,    0x76,    0x20,    0x5b,    0x5b,    0x75,    0x73,    
            0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    
            0x0a,    0x73,    0x74,    0x61,    0x74,    0x69,    0x63,    0x20,    0x69,    0x6e,    0x6c,    0x69,    0x6e,    0x65,    0x20,    0x5f,    
            0x5f,    0x61,    0x74,    0x74,    0x72,    0x69,    0x62,    0x75,    0x74,    0x65,    0x5f,    0x5f,    0x28,    0x28,    0x61,    0x6c,    
            0x77,    0x61,    0x79,    0x73,    0x5f,    0x69,    0x6e,    0x6c,    0x69,    0x6e,    0x65,    0x29,    0x29,    0x0a,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x20,    0x64,    0x65,    0x63,    0x6f,    0x64,    0x65,    0x44,    0x65,    0x70,    0x74,    0x68,    0x28,    
            0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x34,    0x26,    0x20,    0x72,    0x67,    0x62,    0x61,    0x29,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x64,    0x6f,    0x74,    0x28,    0x72,    0x67,    0x62,    0x61,    
            0x2c,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x28,    0x31,    0x2e,    0x30,    0x2c,    0x20,    0x30,    0x2e,    
            0x30,    0x30,    0x33,    0x39,    0x32,    0x31,    0x35,    0x36,    0x38,    0x38,    0x35,    0x39,    0x33,    0x36,    0x38,    0x35,    
            0x36,    0x32,    0x36,    0x39,    0x38,    0x33,    0x36,    0x34,    0x32,    0x35,    0x37,    0x38,    0x31,    0x32,    0x35,    0x2c,    
            0x20,    0x31,    0x2e,    0x35,    0x33,    0x37,    0x38,    0x37,    0x30,    0x30,    0x34,    0x38,    0x31,    0x39,    0x36,    0x30,    
            0x35,    0x34,    0x39,    0x39,    0x35,    0x30,    0x35,    0x39,    0x39,    0x36,    0x37,    0x30,    0x34,    0x31,    0x30,    0x31,    
            0x35,    0x36,    0x65,    0x2d,    0x30,    0x35,    0x2c,    0x20,    0x36,    0x2e,    0x30,    0x33,    0x30,    0x38,    0x36,    0x32,    
            0x39,    0x32,    0x30,    0x31,    0x36,    0x39,    0x39,    0x36,    0x35,    0x39,    0x34,    0x36,    0x31,    0x31,    0x35,    0x35,    
            0x35,    0x33,    0x33,    0x37,    0x39,    0x30,    0x35,    0x38,    0x38,    0x65,    0x2d,    0x30,    0x38,    0x29,    0x29,    0x3b,    
            0x0a,    0x7d,    0x0a,    0x0a,    0x66,    0x72,    0x61,    0x67,    0x6d,    0x65,    0x6e,    0x74,    0x20,    0x6d,    0x61,    0x69,    
            0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x28,    0x6d,    0x61,    0x69,    
            0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x20,    0x69,    0x6e,    0x20,    0x5b,    0x5b,    0x73,    0x74,    0x61,    0x67,    0x65,    
            0x5f,    0x69,    0x6e,    0x5d,    0x5d,    0x2c,    0x20,    0x74,    0x65,    0x78,    0x74,    0x75,    0x72,    0x65,    0x32,    0x64,    
            0x3c,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x3e,    0x20,    0x64,    0x62,    0x67,    0x5f,    0x74,    0x65,    0x78,    0x20,    
            0x5b,    0x5b,    0x74,    0x65,    0x78,    0x74,    0x75,    0x72,    0x65,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x2c,    0x20,    
            0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x72,    0x20,    0x64,    0x62,    0x67,    0x5f,    0x73,    0x6d,    0x70,    0x20,    
            0x5b,    0x5b,    0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x29,    0x0a,    
            0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    
            0x6f,    0x75,    0x74,    0x20,    0x3d,    0x20,    0x7b,    0x7d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x34,    0x20,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x20,    0x3d,    0x20,    0x64,    0x62,    0x67,    
            0x5f,    0x74,    0x65,    0x78,    0x2e,    0x73,    0x61,    0x6d,    0x70,    0x6c,    0x65,    0x28,    0x64,    0x62,    0x67,    0x5f,    
            0x73,    0x6d,    0x70,    0x2c,    0x20,    0x69,    0x6e,    0x2e,    0x75,    0x76,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x5f,    0x34,    0x30,    0x20,    0x3d,    0x20,    0x64,    0x65,    0x63,    
            0x6f,    0x64,    0x65,    0x44,    0x65,    0x70,    0x74,    0x68,    0x28,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x29,    0x3b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    0x66,    0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    
            0x6c,    0x6f,    0x72,    0x20,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x28,    0x5f,    0x34,    0x30,    
            0x2c,    0x20,    0x5f,    0x34,    0x30,    0x2c,    0x20,    0x5f,    0x34,    0x30,    0x2c,    0x20,    0x31,    0x2e,    0x30,    0x29,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x6f,    0x75,    0x74,    
            0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x00,    
};
    public static unsafe sg_shader_desc dbg_shader_desc(sg_backend backend) {
        if (backend == SG_BACKEND_METAL_MACOS) {
            sg_shader_desc desc = default(sg_shader_desc);
            desc.vertex_func.source = System.Text.Encoding.UTF8.GetString(vs_dbg_source_metal_macos);
            desc.vertex_func.entry = "main0";
            desc.fragment_func.source = System.Text.Encoding.UTF8.GetString(fs_dbg_source_metal_macos);
            desc.fragment_func.entry = "main0";
            desc.attrs[0].base_type = SG_SHADERATTRBASETYPE_FLOAT;
            desc.views[0].texture.stage = SG_SHADERSTAGE_FRAGMENT;
            desc.views[0].texture.image_type = SG_IMAGETYPE_2D;
            desc.views[0].texture.sample_type = SG_IMAGESAMPLETYPE_FLOAT;
            desc.views[0].texture.multisampled = false;
            desc.views[0].texture.msl_texture_n = 0;
            desc.samplers[0].stage = SG_SHADERSTAGE_FRAGMENT;
            desc.samplers[0].sampler_type = SG_SAMPLERTYPE_FILTERING;
            desc.samplers[0].msl_sampler_n = 0;
            desc.texture_sampler_pairs[0].stage = SG_SHADERSTAGE_FRAGMENT;
            desc.texture_sampler_pairs[0].view_slot = 0;
            desc.texture_sampler_pairs[0].sampler_slot = 0;
            desc.label = "dbg_shader";
            return desc;
        }
        return default(sg_shader_desc);
    }
    public static unsafe sg_shader_desc display_shader_desc(sg_backend backend) {
        if (backend == SG_BACKEND_METAL_MACOS) {
            sg_shader_desc desc = default(sg_shader_desc);
            desc.vertex_func.source = System.Text.Encoding.UTF8.GetString(vs_display_source_metal_macos);
            desc.vertex_func.entry = "main0";
            desc.fragment_func.source = System.Text.Encoding.UTF8.GetString(fs_display_source_metal_macos);
            desc.fragment_func.entry = "main0";
            desc.attrs[0].base_type = SG_SHADERATTRBASETYPE_FLOAT;
            desc.attrs[1].base_type = SG_SHADERATTRBASETYPE_FLOAT;
            desc.uniform_blocks[0].stage = SG_SHADERSTAGE_VERTEX;
            desc.uniform_blocks[0].layout = SG_UNIFORMLAYOUT_STD140;
            desc.uniform_blocks[0].size = 208;
            desc.uniform_blocks[0].msl_buffer_n = 0;
            desc.uniform_blocks[1].stage = SG_SHADERSTAGE_FRAGMENT;
            desc.uniform_blocks[1].layout = SG_UNIFORMLAYOUT_STD140;
            desc.uniform_blocks[1].size = 32;
            desc.uniform_blocks[1].msl_buffer_n = 1;
            desc.views[0].texture.stage = SG_SHADERSTAGE_FRAGMENT;
            desc.views[0].texture.image_type = SG_IMAGETYPE_2D;
            desc.views[0].texture.sample_type = SG_IMAGESAMPLETYPE_FLOAT;
            desc.views[0].texture.multisampled = false;
            desc.views[0].texture.msl_texture_n = 0;
            desc.samplers[0].stage = SG_SHADERSTAGE_FRAGMENT;
            desc.samplers[0].sampler_type = SG_SAMPLERTYPE_FILTERING;
            desc.samplers[0].msl_sampler_n = 0;
            desc.texture_sampler_pairs[0].stage = SG_SHADERSTAGE_FRAGMENT;
            desc.texture_sampler_pairs[0].view_slot = 0;
            desc.texture_sampler_pairs[0].sampler_slot = 0;
            desc.label = "display_shader";
            return desc;
        }
        return default(sg_shader_desc);
    }
    public static unsafe sg_shader_desc shadow_shader_desc(sg_backend backend) {
        if (backend == SG_BACKEND_METAL_MACOS) {
            sg_shader_desc desc = default(sg_shader_desc);
            desc.vertex_func.source = System.Text.Encoding.UTF8.GetString(vs_shadow_source_metal_macos);
            desc.vertex_func.entry = "main0";
            desc.fragment_func.source = System.Text.Encoding.UTF8.GetString(fs_shadow_source_metal_macos);
            desc.fragment_func.entry = "main0";
            desc.attrs[0].base_type = SG_SHADERATTRBASETYPE_FLOAT;
            desc.uniform_blocks[0].stage = SG_SHADERSTAGE_VERTEX;
            desc.uniform_blocks[0].layout = SG_UNIFORMLAYOUT_STD140;
            desc.uniform_blocks[0].size = 64;
            desc.uniform_blocks[0].msl_buffer_n = 0;
            desc.label = "shadow_shader";
            return desc;
        }
        return default(sg_shader_desc);
    }
}

} // namescape 

